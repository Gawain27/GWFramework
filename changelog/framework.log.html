<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>GWFramework â€“ Changelog</title>

    <!-- ==========  Minimal look-and-feel (1 file, no external deps) ========== -->
    <style>
        /* â”€â”€ palette â”€â”€ */
        :root{
            --bg:#0f0f10;          --panel:#1c1c1f;
            --text:#e6e6e6;        --muted:#9e9e9e;
            --link:#41b883;
            --v5:#bb9af7;          /* 0.0.5d  â† NEW */
            --v4:#e0af68;          /* 0.0.4c  â† NEW */
            --v3:#f7768e;          /* 0.0.3b */
            --v2:#7aa2f7;          /* 0.0.2a */
            --v1:#9ece6a;          /* 0.0.1Init */
            --code:#c0caf5;
            --mono:"Fira Code","Consolas",monospace;
        }
        /* â”€â”€ layout â”€â”€ */
        body{margin:0;padding:2rem;background:var(--bg);color:var(--text);
             font:15px/1.55 "Inter",system-ui,sans-serif;}
        h1{margin:0 0 1.8rem;font-size:1.9rem;font-weight:600}
        a{color:var(--link)}
        /* â”€â”€ summary table â”€â”€ */
        table{width:100%;border-collapse:collapse;margin:1.5rem 0}
        th,td{padding:.55rem .9rem;border:1px solid #2a2a2d;vertical-align:top}
        th{background:#26262b;font-weight:600;text-align:left}
        tr:nth-child(even){background:var(--panel)}
        .tag{display:inline-block;font:12px var(--mono);padding:2px 7px;
             border-radius:4px;background:#26262b;margin-right:6px}
        /* â”€â”€ collapsible entries â”€â”€ */
        details{margin:1.6rem 0;border:1px solid #28282c;border-radius:5px;
                background:var(--panel)}
        summary{cursor:pointer;user-select:none;padding:.9rem .95rem;
                font-weight:600;display:flex;align-items:center;
                list-style:none}
        summary::-webkit-details-marker{display:none}
        details[open] summary{border-bottom:1px solid #28282c}
        .entry-body{padding:1.1rem 1.4rem}
        code{color:var(--code);font-family:var(--mono)}
    </style>
</head>
<body>

<h1>GWFramework â€“ Changelog</h1>

<!-- ==========  Quick summary table (latest on top)  ========== -->
<table>
    <tr><th style="width:110px">Version</th><th style="width:160px">Date</th><th>Highlights</th></tr>

    <tr><td><span class="tag" style="color:var(--v5)">0.0.5 d</span></td>
        <td>6&nbsp;June&nbsp;2025</td>
        <td>Concurrent master-queue architecture, <code>EventException</code>, FileLogger integration &amp; full test-suite.</td></tr>

    <tr><td><span class="tag" style="color:var(--v4)">0.0.4 c</span></td>
        <td>2&nbsp;June&nbsp;2025</td>
        <td>Core exception translation, CDI injection, CSV defaults &amp; connectivity test.</td></tr>

    <tr><td><span class="tag" style="color:var(--v3)">0.0.3 b</span></td>
        <td>31&nbsp;May&nbsp;2025</td>
        <td>Full i18n tool-chain, DeepL auto-translation, enum auto-sort, rich Gradle UX.</td></tr>

    <tr><td><span class="tag" style="color:var(--v2)">0.0.2 a</span></td>
        <td>26&nbsp;May&nbsp;2025</td>
        <td>Multi-sub-component system, big <code>ModuleClassLoader</code> refactor.</td></tr>

    <tr><td><span class="tag" style="color:var(--v1)">0.0.1 Init</span></td>
        <td>24&nbsp;May&nbsp;2025</td>
        <td>First public â€œstarterâ€ release.</td></tr>
</table>

<!-- =======================================================================
     Modular accordion â€“ newest entry open by default
========================================================================== -->

<!-- ---------- 0.0.5d ---------------------------------------------------- -->
<details open>
    <summary style="color:var(--v5)">
        <span class="tag" style="color:var(--v5)">0.0.5 d</span>
        <em style="flex:1">â€œEvent&nbsp;Pipeline&nbsp;Overhaulâ€ â€“ released&nbsp;6&nbsp;June&nbsp;2025</em>
    </summary>
    <div class="entry-body">

        <h3>ğŸš€  Event System &amp; Concurrency</h3>
        <ul>
            <li>âœ³ï¸ **MasterEventQueue** rewritten to orchestrate
                <em>only</em> <code>MacroEvent</code>s, dispatching individual
                events to type-specific sub-queues.</li>
            <li>ğŸ§© **IExecutionCondition** framework (<code>AfterEventCondition</code>,
                <code>AfterMacroEventCondition</code>) enables flexible,
                cross-macro execution ordering.</li>
            <li>âš™ï¸ **ConcurrentSubQueue**
                <ul>
                    <li>Configurable <strong>X-parallelism</strong>
                        via <code>ExecutorService</code>.</li>
                    <li>Catches <code>EventException</code>; routes to master for
                        central handling and optional <em>post-actions</em>.</li>
                </ul>
            </li>
            <li>ğŸ†• **EventStatus** tracking (<code>WAITING / EXECUTING / COMPLETED</code>)
                + per-event execution duration.</li>
        </ul>

        <h3>ğŸ›¡  Exception Handling</h3>
        <ul>
            <li>New <code>EventException</code> extends <code>BaseException</code>,
                retains translation &amp; parameter support.</li>
            <li><code>MasterEventQueue.handleEventException()</code> logs via
                <code>FileLogger</code> (<code>LogFiles.EVENT</code>) and triggers
                user-configurable callbacks.</li>
        </ul>

        <h3>ğŸ“œ  Logging</h3>
        <ul>
            <li>Uniform adoption of <code>FileLogger</code>
                across queues, exception flow and periodic status reports.</li>
            <li>ğŸ•’ **EventStatusLogger** â€“
                background <code>Timer</code> task dumping macro / event status
                every <em>Y</em> seconds to a chosen file.</li>
        </ul>

        <h3>ğŸ§ª  Tests (JUnit 5)</h3>
        <ul>
            <li><code>MasterEventQueueTest</code> â€“ verifies happy-path execution
                and exception propagation.</li>
            <li><code>ConcurrentSubQueueTest</code> â€“ asserts
                max-parallel limit and <code>EventException</code> flow.</li>
            <li><code>EventStatusLoggerTest</code> â€“ ensures periodic log write
                and content validity.</li>
            <li>All extend <code>BaseTest</code>; deterministic with
                <code>assertTimeout()</code> guards.</li>
        </ul>

        <h3>ğŸ”§  Misc</h3>
        <ul>
            <li>Helper <code>CollectionUtils.queueToArray()</code> aids
                log-friendly macro inspection.</li>
            <li>Palette expanded in changelog (new <code>--v5 / --v4</code>). âœ¨</li>
        </ul>

    </div>
</details>

<!-- ---------- 0.0.4c ---------------------------------------------------- -->
<details>
    <summary style="color:var(--v4)">
        <span class="tag" style="color:var(--v4)">0.0.4 c</span>
        <em style="flex:1">â€œConnectivity &amp; Translation&nbsp;Boostâ€ â€“ released&nbsp;2&nbsp;June&nbsp;2025</em>
    </summary>
    <div class="entry-body">
        <!-- unchanged body from previous file -->
        <!-- (content identical to user-provided 0.0.4c section) -->
        <h3>âš™ï¸  Core enhancements</h3>
        <ul>
            <li><strong>BaseException</strong> now injects <code>ITranslationService</code> via CDI:
                <ul>
                    <li>Constructor calls <code>Cdi.inject(this)</code> to wire <code>@Inject ITranslationService translator</code>.</li>
                    <li><code>getMessage()</code> returns a translated and parameter-formatted message using <code>translator.tr()</code>, falling back to <code>errorKey.getDefaultCaption()</code> on failure.</li>
                </ul>
            </li>
            <li>Introduced <code>Cdi.inject(Object)</code> helper:
                <ul>
                    <li>Scans for <code>@Inject</code> fields and creates or retrieves dependencies via <code>ModuleClassLoader</code>.</li>
                </ul>
            </li>
        </ul>

        <h3>ğŸˆ³  i18n &amp; CSV</h3>
        <ul>
            <li><code>updateTranslationsCsv</code> now populates the <code>en_US</code> column with each enumâ€™s <code>getDefaultCaption()</code> if that cell is empty.</li>
            <li>Fixed header-merge logic to avoid spurious extra columns (â€œeâ€ column); existing languages are preserved, and default captions fill blanks.</li>
        </ul>

        <h3>ğŸ§ª  New Tests</h3>
        <ul>
            <li><code>ComponentGraphConnectivityTest</code> in <code>gwstarter</code>:
                <ul>
                    <li>Ensures every concrete component from <code>ModuleClassLoader.concreteTypes</code> is connected (has at least one incoming or outgoing <code>@Inject</code> edge).</li>
                    <li>Fails if any component is isolated, listing them in the failure message.</li>
                </ul>
            </li>
            <li>Updated <code>PlatformDifferentiationComplianceTest</code> to also assert that <code>Init.isPlatformDependent()</code> is <code>true</code> whenever multiple implementations exist at the same module level.</li>
        </ul>

    </div>
</details>


<!-- ---------- 0.0.3b ---------------------------------------------------- -->
<details>
    <summary style="color:var(--v3)">
        <span class="tag" style="color:var(--v3)">0.0.3 b</span>
        <em style="flex:1">â€œLocalization&nbsp;Overdriveâ€ â€“ released&nbsp;31&nbsp;May&nbsp;2025</em>
    </summary>
    <div class="entry-body">

        <h3>ğŸˆ³  Internationalisation</h3>
        <ul>
            <li>New <strong>language-support module</strong>:
                <ul>
                    <li>Per-module <code>messages.csv</code> files in <code>resources/translation</code>.</li>
                    <li><code>CSVTranslationLoader</code> now merges <em>all</em> module CSVs via <code>ModuleClassLoader</code>.</li>
                    <li><code>TranslationService.tr()</code> adds locale+language fallback and hot-reload.</li>
                </ul>
            </li>
            <li><strong>Gradle task <code>updateTranslationsCsv</code></strong>:
                <ul>
                    <li>Harvests every enum annotated with <code>@Translations</code>.</li>
                    <li>Auto-creates or merges the moduleâ€™s <code>messages.csv</code>.</li>
                    <li>Detects duplicate keys across modules.</li>
                    <li>ğŸ†• Also rewrites the enum source to keep constants <em>alphabetical</em> (tab-indented).</li>
                </ul>
            </li>
            <li>JUnit test <code>TranslationServiceTest</code> ensures lookups, fallback and reload.</li>
        </ul>

        <h3>ğŸ›   Translation Editor</h3>
        <ul>
            <li>Standalone JavaFX desktop app (<code>tools:translation-editor</code> fat-jar).</li>
            <li>Modern dark â€œDarculaâ€ skin with toolbar, locale combo and auto-save.</li>
            <li>DeepL integration:
                <ul>
                    <li>Select a target locale â†’ click <strong>ğŸŒ Translate</strong> to back-fill empty cells.</li>
                    <li>API key read from <code>gradle.properties</code>.</li>
                </ul>
            </li>
            <li>Verbose logging levels <code>TRACE&nbsp;/ DEBUG&nbsp;/ INFO</code> via <code>-Dgwlog</code>.</li>
        </ul>

        <h3>ğŸ“¦  Build / Gradle</h3>
        <ul>
            <li>Helper tasks
                <ul>
                    <li><code>viewFrameworkChangelog</code> â€“ open root <code>framework.log.html</code> in default browser.</li>
                    <li><code>viewGameChangelog</code> â€“ open <code>changelog/games/&lt;configSet&gt;.log.html</code>.</li>
                </ul>
            </li>
            <li><code>translationEditor</code> task wires editor runtime to Desktop API.</li>
            <li>Fixed Groovy <code>withIndex()</code>&nbsp;ambiguity, improved enum rewrite slice logic.</li>
        </ul>

        <h3>ğŸ”§  Misc &amp; Tooling</h3>
        <ul>
            <li>ASM-based byte-code scanner now parent-less to avoid LibGDX interference.</li>
            <li>Automatic asset-list and version files remain untouched and compatible.</li>
        </ul>
    </div>
</details>

<!-- ---------- 0.0.2a ---------------------------------------------------- -->
<details>
    <summary style="color:var(--v2)">
        <span class="tag" style="color:var(--v2)">0.0.2 a</span>
        <em style="flex:1">â€œModular Momentumâ€ â€“ released&nbsp;26&nbsp;May&nbsp;2025</em>
    </summary>
    <div class="entry-body">
        <h3>Core runtime</h3>
        <ul>
            <li><strong>Refactored <code>ModuleClassLoader</code></strong>
                <ul>
                    <li>Child-first lookup with positive &amp; negative caches.</li>
                    <li>Separate containers for <code>interfaceTypes</code> vs <code>concreteTypes</code>.</li>
                    <li>New APIs: <code>findSubComponent</code>, <code>findSubComponents</code>,
                        <code>tryCreate(comp, sub)</code>, <code>tryCreateAll(comp)</code>.</li>
                    <li>Duplicate eliminator keeps top priority per <code>(component, subComp)</code>.</li>
                </ul>
            </li>
            <li>Added <code>ClassUtils.getAnnotatedClasses(anno,[level])</code>.</li>
        </ul>

        <h3>Testing</h3>
        <ul>
            <li>Introduced abstract <code>BaseTest</code> (override <code>runTest()</code>).</li>
            <li>Compliance test suite for interface rules, platform variants, and sub-component logic.</li>
        </ul>

        <h3>Gradle&nbsp;build</h3>
        <ul>
            <li><code>isShippingBuild</code> flag â€“ version bumps only on <code>build</code>/<code>delivery</code>.</li>
            <li>Helper <code>buildVerOf()</code> guarantees correct JAR names in <code>config.json</code>.</li>
            <li><code>assembleTestRuntime</code> produces reusable runtime for tests (<code>gw.bin.dir</code>).</li>
            <li><code>delivery</code> now executes all JUnit tests before packaging.</li>
        </ul>

        <h3>Misc</h3>
        <ul>
            <li>One-off pathing-JAR &amp; launch-script reuse.</li>
            <li>Cleaner logging â€“ one DEBUG per resolved class or multi-component.</li>
        </ul>
    </div>
</details>

<!-- ---------- 0.0.1Init ------------------------------------------------- -->
<details>
    <summary style="color:var(--v1)">
        <span class="tag" style="color:var(--v1)">0.0.1 Init</span>
        <em style="flex:1">â€œFirst Lightâ€ â€“ released&nbsp;24&nbsp;May&nbsp;2025</em>
    </summary>
    <div class="entry-body">
        <ul>
            <li>First public drop of the GWFramework desktop stack.</li>
            <li>Modules: <code>gwcore</code>, <code>gw2d</code>, sample game <code>needle-of-silver</code>,
                bootstrapper <code>gwstarter</code>.</li>
            <li>Baseline Gradle multi-project build (asset list, per-module <code>buildVersion</code>, dependency graph).</li>
            <li>Initial <code>ModuleClassLoader</code> with level-based ordering.</li>
            <li>Prototype testing framework (<code>TestCase</code>, later evolved to <code>BaseTest</code>).</li>
        </ul>
    </div>
</details>

<!-- ========== Footer ==================================================== -->
<p style="margin-top:3rem;font-size:13px;color:var(--muted)">
    Â© 2025 GW Games â€“ thank you for helping GWFramework evolve!
</p>

</body>
</html>
